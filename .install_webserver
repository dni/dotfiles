#!/bin/bash
INSTALLDIR=${1:-$HOME}

echo -n "update & upgrade"
apt-get update && apt-get upgrade
echo -n "install"
apt-get install -y wget curl apache2 mysql-server php5 npm zip git vim

echo -n "installing npm modules"
npm upgrade
npm i -g bower grunt-cli less compass coffee-script mocha

echo "Initializing vim configs..."
ln -s $PWD/.vim $INSTALLDIR/.vim
ln -s $PWD/.vimrc $INSTALLDIR/.vimrc

echo "Initializing vim plugins as git submodules..."
cd dotfiles; git submodule init && cd dotfiles; git submodule update


echo "Initializing bash configs..."
ln -s $PWD/.bash $INSTALLDIR/.bash
ln -s $PWD/.bash_profile $INSTALLDIR/.bash_profile
mv $PWD/.bashrc $PWD/.bashrc.old
echo ". $PWD/.bash_profile" >> $PWD/.bashrc
